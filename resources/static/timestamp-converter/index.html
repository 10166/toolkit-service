<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>时间戳转换工具 - 炫酷工具箱</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0a;
            color: var(--text-primary);
            overflow-x: hidden;
            
            /* CSS Variables for theming */
            --bg-primary: #0a0a0a;
            --bg-secondary: rgba(99, 102, 241, 0.08);
            --bg-card: rgba(255, 255, 255, 0.05);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --border-color: rgba(255, 255, 255, 0.1);
            --accent-color: #6366f1;
        }
        
        /* Light theme */
        [data-theme="light"] {
            --bg-primary: #f8fafc;
            --bg-secondary: rgba(99, 102, 241, 0.08);
            --bg-card: rgba(255, 255, 255, 0.8);
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: rgba(99, 102, 241, 0.15);
            --accent-color: #6366f1;
        }
        
        /* 背景动画 */
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* 霓虹光效 */
        .neon-glow {
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5),
                        0 0 40px rgba(102, 126, 234, 0.3),
                        0 0 60px rgba(102, 126, 234, 0.1);
        }
        
        /* 光束效果 */
        .beam {
            position: absolute;
            width: 2px;
            height: 100px;
            background: linear-gradient(to bottom, transparent, #667eea, transparent);
            animation: beam 3s ease-in-out infinite;
        }
        
        @keyframes beam {
            0%, 100% { opacity: 0; transform: translateY(-100px); }
            50% { opacity: 1; transform: translateY(100vh); }
        }
        
        /* 粒子效果 */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #667eea;
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 1; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.5; }
        }
        
        /* 工具卡片 */
        .tool-card {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
            transition: left 0.5s ease;
        }
        
        .tool-card:hover::before {
            left: 100%;
        }
        
        /* 文字发光效果 */
        .glow-text {
            text-shadow: 0 0 5px rgba(99, 102, 241, 0.8),
                         0 0 10px rgba(99, 102, 241, 0.6),
                         0 0 15px rgba(99, 102, 241, 0.4);
        }
        
        /* 按钮动画 */
        .btn-glow {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .btn-glow::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
            transition: left 0.5s ease;
        }
        
        .btn-glow:hover::before {
            left: 100%;
        }
        
        /* 输入框样式 */
        .fancy-input {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 1rem;
            color: var(--text-primary);
            font-family: 'Consolas', 'Monaco', monospace;
            transition: all 0.3s ease;
        }
        
        .fancy-input:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
            outline: none;
        }
        
        /* 选择框样式 */
        .fancy-select {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 0.75rem;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }
        
        .fancy-select:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
            outline: none;
        }
        
        .fancy-select option {
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        
        /* 当前时间显示 */
        .current-time {
            background: var(--bg-secondary);
            backdrop-filter: blur(10px);
            border: 1px solid var(--accent-color);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .current-time-title {
            font-weight: 600;
            color: var(--accent-color);
            margin-bottom: 1rem;
        }
        
        .current-time-value {
            font-size: 1.25rem;
            font-family: 'Consolas', 'Monaco', monospace;
            color: var(--text-primary);
        }
        
        /* 结果项样式 */
        .result-item {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid var(--accent-color);
            transition: all 0.3s ease;
        }
        
        .result-item:hover {
            border-left-color: #764ba2;
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.2);
        }
        
        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .result-title {
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .result-value {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 1rem;
            word-break: break-all;
            background: var(--bg-card);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
        }
        
        .copy-btn {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            border-radius: 8px;
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }
        
        .copy-btn:hover {
            background: rgba(99, 102, 241, 0.3);
            border-color: var(--accent-color);
        }
        
        /* 格式卡片样式 */
        .format-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .format-card {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 1.5rem;
            border-left: 4px solid #667eea;
            transition: all 0.3s ease;
        }
        
        .format-card:hover {
            border-left-color: var(--accent-color);
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.2);
        }
        
        .format-card-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .format-card-value {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.875rem;
            word-break: break-all;
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
        }
        
        .format-card-copy {
            margin-top: 1rem;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            border-radius: 8px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }
        
        .format-card-copy:hover {
            background: var(--bg-secondary);
            border-color: var(--accent-color);
        }
        
        /* 时区卡片样式 */
        .timezone-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .timezone-card {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 1.5rem;
            border-left: 4px solid #667eea;
            transition: all 0.3s ease;
        }
        
        .timezone-card:hover {
            border-left-color: var(--accent-color);
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.2);
        }
        
        .timezone-card-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .timezone-card-value {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 1rem;
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
        }
        
        /* 滚动条样式 */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--bg-card);
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(99, 102, 241, 0.5);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(99, 102, 241, 0.7);
        }
        
        /* 表格样式 */
        .fancy-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
        }
        
        .fancy-table th,
        .fancy-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        
        .fancy-table th {
            background: rgba(99, 102, 241, 0.2);
            font-weight: 600;
            color: var(--accent-color);
        }
        
        .fancy-table tr:hover {
            background: rgba(99, 102, 241, 0.1);
        }
        
        .fancy-table code {
            background: var(--bg-card);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.875rem;
        }
        
        /* 通知样式 */
        .notification {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            border-color: rgba(76, 175, 80, 0.5);
            background: rgba(76, 175, 80, 0.1);
        }
        
        .notification.error {
            border-color: rgba(244, 67, 54, 0.5);
            background: rgba(244, 67, 54, 0.1);
        }
        
        /* 错误消息样式 */
        .error-message {
            background: rgba(244, 67, 54, 0.1);
            border: 1px solid rgba(244, 67, 54, 0.3);
            border-radius: 10px;
            padding: 0.75rem;
            margin-top: 1rem;
            display: none;
        }
        
        /* 标签样式 */
        .form-label {
            display: block;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }
        
        @media (max-width: 768px) {
            .format-grid {
                grid-template-columns: 1fr;
            }
            .timezone-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- 背景动画效果 -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="beam" style="left: 10%; animation-delay: 0s;"></div>
        <div class="beam" style="left: 30%; animation-delay: 1s;"></div>
        <div class="beam" style="left: 50%; animation-delay: 2s;"></div>
        <div class="beam" style="left: 70%; animation-delay: 0.5s;"></div>
        <div class="beam" style="left: 90%; animation-delay: 1.5s;"></div>
        
        <div class="particle" style="left: 20%; top: 20%; animation-delay: 0s;"></div>
        <div class="particle" style="left: 80%; top: 30%; animation-delay: 1s;"></div>
        <div class="particle" style="left: 50%; top: 60%; animation-delay: 2s;"></div>
        <div class="particle" style="left: 10%; top: 80%; animation-delay: 3s;"></div>
        <div class="particle" style="left: 90%; top: 70%; animation-delay: 4s;"></div>
    </div>

    <!-- 导航栏 -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-black bg-opacity-20 backdrop-blur-lg border-b border-white border-opacity-10">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-tools text-white text-sm"></i>
                    </div>
                    <span class="text-xl font-bold glow-text">工具箱</span>
                </div>
                
                <div class="flex items-center space-x-4">
                    <a href="/" class="text-white hover:text-purple-400 transition-colors duration-300">
                        <i class="fas fa-arrow-left mr-2"></i>返回主页
                    </a>
                    <button id="themeToggle" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white p-2 rounded-lg transition-all duration-300">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主要内容 -->
    <main class="min-h-screen pt-20">
        <div class="container mx-auto px-6 py-12">
            <!-- 头部 -->
            <div class="text-center mb-12">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl mb-6 neon-glow">
                    <i class="fas fa-clock text-white text-3xl"></i>
                </div>
                <h1 class="text-4xl md:text-5xl font-bold mb-4 glow-text">
                    <span class="bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent">
                        时间戳转换工具
                    </span>
                </h1>
                <p class="text-xl max-w-2xl mx-auto" style="color: var(--text-secondary);">
                    时间戳与日期时间相互转换，支持多种格式和时区
                </p>
            </div>

            <!-- 当前时间 -->
            <div class="tool-card mb-8">
                <h3 class="text-xl font-semibold mb-6 flex items-center" style="color: var(--text-primary);">
                    <i class="fas fa-clock text-blue-400 mr-3"></i>
                    当前时间
                </h3>
                <div class="current-time">
                    <div class="current-time-title">系统当前时间</div>
                    <div id="currentTime" class="current-time-value"></div>
                    <div id="currentTimestamp" class="current-time-value mt-3"></div>
                </div>
            </div>

            <!-- 时间戳转换 -->
            <div class="tool-card mb-8">
                <h3 class="text-xl font-semibold mb-6 flex items-center" style="color: var(--text-primary);">
                    <i class="fas fa-exchange-alt text-purple-400 mr-3"></i>
                    时间戳转换
                </h3>
                
                <!-- 配置选项 -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div>
                        <label class="form-label">转换方向</label>
                        <select id="convertDirection" class="fancy-select w-full">
                            <option value="timestamp-to-date">时间戳 → 日期时间</option>
                            <option value="date-to-timestamp">日期时间 → 时间戳</option>
                        </select>
                    </div>
                    <div>
                        <label class="form-label">时间戳单位</label>
                        <select id="timestampUnit" class="fancy-select w-full">
                            <option value="seconds" selected>秒 (s)</option>
                            <option value="milliseconds">毫秒 (ms)</option>
                            <option value="microseconds">微秒 (μs)</option>
                            <option value="nanoseconds">纳秒 (ns)</option>
                        </select>
                    </div>
                    <div>
                        <label class="form-label">时区</label>
                        <select id="timezone" class="fancy-select w-full">
                            <option value="local" selected>本地时间</option>
                            <option value="UTC">UTC</option>
                            <option value="America/New_York">美国东部时间</option>
                            <option value="Europe/London">伦敦时间</option>
                            <option value="Asia/Tokyo">东京时间</option>
                            <option value="Asia/Shanghai">北京时间</option>
                        </select>
                    </div>
                </div>
                
                <!-- 输入区域 -->
                <div id="timestampInputSection">
                    <label for="timestampInput" class="form-label">时间戳</label>
                    <input type="text" id="timestampInput" class="fancy-input w-full" placeholder="输入时间戳...">
                </div>
                
                <div id="dateInputSection" style="display: none;">
                    <label for="dateInput" class="form-label">日期时间</label>
                    <input type="text" id="dateInput" class="fancy-input w-full" placeholder="输入日期时间，如: 2023-12-25 15:30:45">
                </div>
                
                <div class="error-message" id="errorMessage">
                    <i class="fas fa-exclamation-triangle text-red-400 mr-2"></i>
                    <span id="errorText"></span>
                </div>
                
                <!-- 操作按钮 -->
                <div class="grid grid-cols-3 gap-4 mt-6">
                    <button id="convertBtn" 
                            class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-3 px-6 rounded-lg font-semibold transition-all duration-300 btn-glow neon-glow">
                        <i class="fas fa-exchange-alt mr-2"></i>转换
                    </button>
                    <button id="clearBtn" 
                            class="bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white py-3 px-6 rounded-lg font-semibold transition-all duration-300 btn-glow">
                        <i class="fas fa-trash mr-2"></i>清空
                    </button>
                    <button id="nowBtn" 
                            class="bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white py-3 px-6 rounded-lg font-semibold transition-all duration-300 btn-glow">
                        <i class="fas fa-clock mr-2"></i>当前时间
                    </button>
                </div>
                
                <!-- 结果区域 -->
                <div class="mt-8">
                    <div id="resultContainer">
                        <div class="text-center text-gray-400 py-8">
                            <i class="fas fa-exchange-alt text-4xl mb-3 opacity-50"></i>
                            <p>点击"转换"按钮查看结果</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 多种时间格式 -->
            <div class="tool-card mb-8">
                <h3 class="text-xl font-semibold mb-6 flex items-center" style="color: var(--text-primary);">
                    <i class="fas fa-list-alt text-green-400 mr-3"></i>
                    多种时间格式
                </h3>
                <div id="formatGrid" class="format-grid">
                    <div class="text-center text-gray-400 col-span-full py-8">
                        <i class="fas fa-clock text-4xl mb-3 opacity-50"></i>
                        <p>先进行时间戳转换，然后查看多种时间格式</p>
                    </div>
                </div>
            </div>

            <!-- 世界时区时间 -->
            <div class="tool-card mb-8">
                <h3 class="text-xl font-semibold mb-6 flex items-center" style="color: var(--text-primary);">
                    <i class="fas fa-globe text-yellow-400 mr-3"></i>
                    世界时区时间
                </h3>
                <div id="timezoneGrid" class="timezone-grid">
                    <div class="text-center text-gray-400 col-span-full py-8">
                        <i class="fas fa-globe text-4xl mb-3 opacity-50"></i>
                        <p>先进行时间戳转换，然后查看世界各时区时间</p>
                    </div>
                </div>
            </div>

            <!-- 参考表格 -->
            <div class="tool-card">
                <h3 class="text-xl font-semibold mb-6 flex items-center" style="color: var(--text-primary);">
                    <i class="fas fa-table text-purple-400 mr-3"></i>
                    时间戳参考
                </h3>
                
                <table class="fancy-table">
                    <thead>
                        <tr>
                            <th>时间点</th>
                            <th>时间戳 (秒)</th>
                            <th>时间戳 (毫秒)</th>
                            <th>说明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1970-01-01 00:00:00</td>
                            <td><code>0</code></td>
                            <td><code>0</code></td>
                            <td>Unix时间戳起点 (UTC)</td>
                        </tr>
                        <tr>
                            <td>2000-01-01 00:00:00</td>
                            <td><code>946684800</code></td>
                            <td><code>946684800000</code></td>
                            <td>千禧年 (UTC)</td>
                        </tr>
                        <tr>
                            <td>2020-01-01 00:00:00</td>
                            <td><code>1577836800</code></td>
                            <td><code>1577836800000</code></td>
                            <td>2020年 (UTC)</td>
                        </tr>
                        <tr>
                            <td>2023-01-01 00:00:00</td>
                            <td><code>1672531200</code></td>
                            <td><code>1672531200000</code></td>
                            <td>2023年 (UTC)</td>
                        </tr>
                        <tr>
                            <td>2038-01-19 03:14:07</td>
                            <td><code>2147483647</code></td>
                            <td><code>2147483647000</code></td>
                            <td>32位Unix时间戳溢出点 (Y2K38问题)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <!-- 通知组件 -->
    <div id="notification" class="notification">
        <i class="fas fa-check-circle text-green-400"></i>
        <span id="notificationText"></span>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment-timezone@0.5.43/builds/moment-timezone-with-data.min.js"></script>
    <script>
            // Theme toggle functionality
            const themeToggle = document.getElementById('themeToggle');
            const html = document.documentElement;
            
            // Load saved theme
            const savedTheme = localStorage.getItem('theme') || 'dark';
            html.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);
            
            themeToggle.addEventListener('click', function() {
                const currentTheme = html.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                html.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                updateThemeIcon(newTheme);
            });
            
            function updateThemeIcon(theme) {
                const icon = themeToggle.querySelector('i');
                if (theme === 'light') {
                    icon.className = 'fas fa-sun';
                } else {
                    icon.className = 'fas fa-moon';
                }
            }

            document.addEventListener('DOMContentLoaded', function() {
            const convertDirection = document.getElementById('convertDirection');
            const timestampUnit = document.getElementById('timestampUnit');
            const timezone = document.getElementById('timezone');
            const timestampInput = document.getElementById('timestampInput');
            const dateInput = document.getElementById('dateInput');
            const timestampInputSection = document.getElementById('timestampInputSection');
            const dateInputSection = document.getElementById('dateInputSection');
            const convertBtn = document.getElementById('convertBtn');
            const clearBtn = document.getElementById('clearBtn');
            const nowBtn = document.getElementById('nowBtn');
            const errorMessage = document.getElementById('errorMessage');
            const errorText = document.getElementById('errorText');
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            const resultContainer = document.getElementById('resultContainer');
            const formatGrid = document.getElementById('formatGrid');
            const timezoneGrid = document.getElementById('timezoneGrid');
            const currentTime = document.getElementById('currentTime');
            const currentTimestamp = document.getElementById('currentTimestamp');
            
            let currentTimestampValue = null;
            
            // 更新当前时间
            function updateCurrentTime() {
                const now = moment();
                currentTime.textContent = now.format('YYYY-MM-DD HH:mm:ss.SSS');
                currentTimestamp.textContent = `时间戳: ${now.unix()} 秒 / ${now.valueOf()} 毫秒`;
            }
            
            // 初始更新和定时更新
            updateCurrentTime();
            setInterval(updateCurrentTime, 1000);
            
            // 转换方向变化
            convertDirection.addEventListener('change', function() {
                if (this.value === 'timestamp-to-date') {
                    timestampInputSection.style.display = 'block';
                    dateInputSection.style.display = 'none';
                } else {
                    timestampInputSection.style.display = 'none';
                    dateInputSection.style.display = 'block';
                }
                clearResults();
            });
            
            // 转换按钮
            convertBtn.addEventListener('click', function() {
                try {
                    if (convertDirection.value === 'timestamp-to-date') {
                        convertTimestampToDate();
                    } else {
                        convertDateToTimestamp();
                    }
                } catch (error) {
                    showError('转换失败: ' + error.message);
                }
            });
            
            // 清空按钮
            clearBtn.addEventListener('click', function() {
                timestampInput.value = '';
                dateInput.value = '';
                errorMessage.style.display = 'none';
                clearResults();
            });
            
            // 当前时间按钮
            nowBtn.addEventListener('click', function() {
                const now = moment();
                
                if (convertDirection.value === 'timestamp-to-date') {
                    const unit = timestampUnit.value;
                    let value;
                    
                    switch (unit) {
                        case 'seconds':
                            value = now.unix();
                            break;
                        case 'milliseconds':
                            value = now.valueOf();
                            break;
                        case 'microseconds':
                            value = now.valueOf() * 1000;
                            break;
                        case 'nanoseconds':
                            value = now.valueOf() * 1000000;
                            break;
                    }
                    
                    timestampInput.value = value;
                } else {
                    dateInput.value = now.format('YYYY-MM-DD HH:mm:ss');
                }
                
                // 自动触发转换
                convertBtn.click();
            });
            
            // 时间戳转日期
            function convertTimestampToDate() {
                const timestamp = timestampInput.value.trim();
                
                if (!timestamp) {
                    showError('请输入时间戳');
                    return;
                }
                
                // 验证是否为数字
                if (!/^-?\d+$/.test(timestamp)) {
                    showError('时间戳必须是整数');
                    return;
                }
                
                const unit = timestampUnit.value;
                const tz = timezone.value;
                let momentObj;
                
                // 根据单位转换时间戳
                switch (unit) {
                    case 'seconds':
                        momentObj = moment.unix(parseInt(timestamp));
                        break;
                    case 'milliseconds':
                        momentObj = moment(parseInt(timestamp));
                        break;
                    case 'microseconds':
                        momentObj = moment(parseInt(timestamp) / 1000);
                        break;
                    case 'nanoseconds':
                        momentObj = moment(parseInt(timestamp) / 1000000);
                        break;
                }
                
                // 应用时区
                if (tz !== 'local') {
                    momentObj = momentObj.tz(tz);
                }
                
                // 保存时间戳值（毫秒）
                currentTimestampValue = momentObj.valueOf();
                
                // 显示结果
                displayResult(momentObj, timestamp, unit, tz);
                
                // 显示多种格式
                displayFormats(momentObj);
                
                // 显示时区时间
                displayTimezones(momentObj);
                
                showNotification('转换成功', 'success');
                errorMessage.style.display = 'none';
            }
            
            // 日期转时间戳
            function convertDateToTimestamp() {
                const dateStr = dateInput.value.trim();
                
                if (!dateStr) {
                    showError('请输入日期时间');
                    return;
                }
                
                const tz = timezone.value;
                let momentObj;
                
                // 尝试解析日期
                if (tz === 'local') {
                    momentObj = moment(dateStr);
                } else {
                    momentObj = moment.tz(dateStr, tz);
                }
                
                if (!momentObj.isValid()) {
                    showError('日期格式无效，请使用类似 YYYY-MM-DD HH:mm:ss 的格式');
                    return;
                }
                
                // 保存时间戳值（毫秒）
                currentTimestampValue = momentObj.valueOf();
                
                // 显示结果
                displayResult(momentObj, dateStr, null, tz);
                
                // 显示多种格式
                displayFormats(momentObj);
                
                // 显示时区时间
                displayTimezones(momentObj);
                
                showNotification('转换成功', 'success');
                errorMessage.style.display = 'none';
            }
            
            // 显示结果
            function displayResult(momentObj, inputValue, unit, tz) {
                const timezoneNames = {
                    'local': '本地时间',
                    'UTC': 'UTC',
                    'America/New_York': '美国东部时间',
                    'Europe/London': '伦敦时间',
                    'Asia/Tokyo': '东京时间',
                    'Asia/Shanghai': '北京时间'
                };
                
                let resultHtml = '';
                
                if (unit) {
                    // 时间戳转日期的结果
                    const unitNames = {
                        'seconds': '秒',
                        'milliseconds': '毫秒',
                        'microseconds': '微秒',
                        'nanoseconds': '纳秒'
                    };
                    
                    resultHtml = `
                        <div class="result-item">
                            <div class="result-header">
                                <div class="result-title">
                                    <i class="fas fa-calendar-day text-green-400"></i> 转换结果
                                </div>
                                <button class="copy-btn" data-value="${momentObj.format('YYYY-MM-DD HH:mm:ss')}">
                                    <i class="fas fa-clipboard"></i> 复制
                                </button>
                            </div>
                            <div class="result-value">${momentObj.format('YYYY-MM-DD HH:mm:ss.SSS')}</div>
                            <div class="text-gray-400 mt-2 text-sm">
                                时间戳: ${inputValue} ${unitNames[unit]} | 时区: ${timezoneNames[tz]}
                            </div>
                        </div>
                        
                        <div class="result-item">
                            <div class="result-header">
                                <div class="result-title">
                                    <i class="fas fa-hashtag text-blue-400"></i> 各单位时间戳
                                </div>
                            </div>
                            <div class="result-value">
                                秒: ${momentObj.unix()}<br>
                                毫秒: ${momentObj.valueOf()}<br>
                                微秒: ${momentObj.valueOf() * 1000}<br>
                                纳秒: ${momentObj.valueOf() * 1000000}
                            </div>
                        </div>
                    `;
                } else {
                    // 日期转时间戳的结果
                    resultHtml = `
                        <div class="result-item">
                            <div class="result-header">
                                <div class="result-title">
                                    <i class="fas fa-hashtag text-blue-400"></i> 转换结果
                                </div>
                                <button class="copy-btn" data-value="${momentObj.unix()}">
                                    <i class="fas fa-clipboard"></i> 复制
                                </button>
                            </div>
                            <div class="result-value">
                                秒: ${momentObj.unix()}<br>
                                毫秒: ${momentObj.valueOf()}<br>
                                微秒: ${momentObj.valueOf() * 1000}<br>
                                纳秒: ${momentObj.valueOf() * 1000000}
                            </div>
                            <div class="text-gray-400 mt-2 text-sm">
                                日期: ${inputValue} | 时区: ${timezoneNames[tz]}
                            </div>
                        </div>
                        
                        <div class="result-item">
                            <div class="result-header">
                                <div class="result-title">
                                    <i class="fas fa-calendar-day text-green-400"></i> 格式化日期
                                </div>
                                <button class="copy-btn" data-value="${momentObj.format('YYYY-MM-DD HH:mm:ss')}">
                                    <i class="fas fa-clipboard"></i> 复制
                                </button>
                            </div>
                            <div class="result-value">${momentObj.format('YYYY-MM-DD HH:mm:ss.SSS')}</div>
                        </div>
                    `;
                }
                
                resultContainer.innerHTML = resultHtml;
                
                // 添加复制按钮事件
                const copyBtns = resultContainer.querySelectorAll('.copy-btn');
                copyBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        const value = this.getAttribute('data-value');
                        navigator.clipboard.writeText(value).then(() => {
                            showNotification('已复制到剪贴板', 'success');
                        }).catch(err => {
                            showError('复制失败: ' + err);
                        });
                    });
                });
            }
            
            // 显示多种格式
            function displayFormats(momentObj) {
                const formats = [
                    { name: 'ISO 8601', format: momentObj.toISOString() },
                    { name: 'RFC 2822', format: momentObj.toDate().toUTCString() },
                    { name: 'Unix时间戳(秒)', format: momentObj.unix().toString() },
                    { name: 'Unix时间戳(毫秒)', format: momentObj.valueOf().toString() },
                    { name: 'YYYY-MM-DD', format: momentObj.format('YYYY-MM-DD') },
                    { name: 'YYYY-MM-DD HH:mm:ss', format: momentObj.format('YYYY-MM-DD HH:mm:ss') },
                    { name: 'MM/DD/YYYY', format: momentObj.format('MM/DD/YYYY') },
                    { name: 'DD/MM/YYYY', format: momentObj.format('DD/MM/YYYY') },
                    { name: 'YYYY年MM月DD日', format: momentObj.format('YYYY年MM月DD日') },
                    { name: 'YYYY年MM月DD日 HH时mm分ss秒', format: momentObj.format('YYYY年MM月DD日 HH时mm分ss秒') }
                ];
                
                let formatHtml = '';
                formats.forEach(item => {
                    formatHtml += `
                        <div class="format-card">
                            <div class="format-card-title">
                                <i class="fas fa-file-alt text-purple-400"></i> ${item.name}
                            </div>
                            <div class="format-card-value">${item.format}</div>
                            <button class="format-card-copy" data-value="${item.format}">
                                <i class="fas fa-clipboard"></i> 复制
                            </button>
                        </div>
                    `;
                });
                
                formatGrid.innerHTML = formatHtml;
                
                // 添加复制按钮事件
                const copyBtns = formatGrid.querySelectorAll('.format-card-copy');
                copyBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        const value = this.getAttribute('data-value');
                        navigator.clipboard.writeText(value).then(() => {
                            showNotification('已复制到剪贴板', 'success');
                        }).catch(err => {
                            showError('复制失败: ' + err);
                        });
                    });
                });
            }
            
            // 显示时区时间
            function displayTimezones(momentObj) {
                const timezones = [
                    { name: '本地时间', tz: momentObj.clone().local() },
                    { name: 'UTC', tz: momentObj.clone().utc() },
                    { name: '美国东部时间', tz: momentObj.clone().tz('America/New_York') },
                    { name: '美国西部时间', tz: momentObj.clone().tz('America/Los_Angeles') },
                    { name: '伦敦时间', tz: momentObj.clone().tz('Europe/London') },
                    { name: '巴黎时间', tz: momentObj.clone().tz('Europe/Paris') },
                    { name: '东京时间', tz: momentObj.clone().tz('Asia/Tokyo') },
                    { name: '北京时间', tz: momentObj.clone().tz('Asia/Shanghai') },
                    { name: '悉尼时间', tz: momentObj.clone().tz('Australia/Sydney') },
                    { name: '莫斯科时间', tz: momentObj.clone().tz('Europe/Moscow') }
                ];
                
                let timezoneHtml = '';
                timezones.forEach(item => {
                    timezoneHtml += `
                        <div class="timezone-card">
                            <div class="timezone-card-title">
                                <i class="fas fa-globe-americas text-yellow-400"></i> ${item.name}
                            </div>
                            <div class="timezone-card-value">${item.tz.format('YYYY-MM-DD HH:mm:ss')}</div>
                        </div>
                    `;
                });
                
                timezoneGrid.innerHTML = timezoneHtml;
            }
            
            // 清空结果
            function clearResults() {
                resultContainer.innerHTML = `
                    <div class="text-center text-gray-400 py-8">
                        <i class="fas fa-exchange-alt text-4xl mb-3 opacity-50"></i>
                        <p>点击"转换"按钮查看结果</p>
                    </div>
                `;
                formatGrid.innerHTML = `
                    <div class="text-center text-gray-400 col-span-full py-8">
                        <i class="fas fa-clock text-4xl mb-3 opacity-50"></i>
                        <p>先进行时间戳转换，然后查看多种时间格式</p>
                    </div>
                `;
                timezoneGrid.innerHTML = `
                    <div class="text-center text-gray-400 col-span-full py-8">
                        <i class="fas fa-globe text-4xl mb-3 opacity-50"></i>
                        <p>先进行时间戳转换，然后查看世界各时区时间</p>
                    </div>
                `;
                currentTimestampValue = null;
            }
            
            // 显示错误信息
            function showError(message) {
                errorText.textContent = message;
                errorMessage.style.display = 'block';
            }
            
            // 显示通知
            function showNotification(message, type) {
                notificationText.textContent = message;
                notification.className = 'notification ' + type;
                
                // 更新图标
                const icon = notification.querySelector('i');
                if (type === 'success') {
                    icon.className = 'fas fa-check-circle text-green-400';
                } else if (type === 'error') {
                    icon.className = 'fas fa-exclamation-circle text-red-400';
                }
                
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
        });
    </script>
</body>
</html>